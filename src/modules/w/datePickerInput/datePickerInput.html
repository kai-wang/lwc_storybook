<template>
   <div class={computedClass}>
      <template if:true={labelText}>
         <label for={id} class={computedLabelClass}>
            <slot name="labelText"> {labelText} </slot>
         </label>
      </template>
      <div class={computedContainerClass}>
         <input
            id={_id}
            data-id={_id}
            name={name}
            placeholder={placeholder}
            type={type}
            pattern={pattern}
            disabled={disabled}
            value={computedValue}
            class={computedInputClass}
            oninput={handleInput}
            onchange={handleChange}
            onkeydown={handleKeydown}
            onblur={handleBlur}
         />
         <template if:false={hasCalendar}>
            <template if:true={invalid}>
               <w-base-icon
                  class-name="bx--date-picker__icon bx--date-picker__icon--invalid"
                  name="WarningFilled"
               ></w-base-icon>
            </template>
            <template if:true={validandwarn}>
               <w-base-icon
                  class-name="bx--date-picker__icon bx--date-picker__icon--warn"
                  name="WarningAltFilled"
               ></w-base-icon>
            </template>
         </template>
         <template if:true={hasCalendar}>
            <w-base-icon
               class-name="bx--date-picker__icon"
               name="Calendar"
               aria-label={iconDescription}
               onclick={openCalendar}
            ></w-base-icon>
         </template>
      </div>
      <template if:true={invalid}>
         <div class="bx--form-requirement">{invalidText}</div>
      </template>
      <template if:true={validandwarn}>
         <div class="bx--form-requirement">{warnText}</div>
      </template>
      <template if:true={helperText}>
         <div class={computedHelperClass}>{helperText}</div>
      </template>
   </div>
</template>
