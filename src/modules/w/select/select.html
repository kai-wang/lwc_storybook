<template>
   <div class={computedClass}>
      <label if:true={hasLabelText} for={id} class={computedLabelClass}>
         <slot name="labelText"> {labelText} </slot>
      </label>
      <div if:true={inline} class="bx--select-input--inline__wrapper">
         <div class="bx--select-input__wrapper">
            <select
               id={id}
               name={name}
               class={computedSelectClass}
               onchange={handleChange}
            >
               <template for:each={options} for:item="option">
                  <option
                     key={option.value}
                     value={option.value}
                     disabled={option.disabled}
                     hidden={option.hidden}
                     selected={option.selected}
                     class="bx--select-option"
                  >
                     {option.text}
                  </option>
               </template>
            </select>
            <w-base-icon
               class-name="bx--select__arrow"
               name="ChevronDown"
            ></w-base-icon>
            <template if:true={invalid}>
               <w-base-icon
                  class-name="bx--select__invalid-icon"
                  src="WarningFilled"
                  fill=""
               ></w-base-icon>
            </template>
         </div>
         <template if:true={invalid}>
            <div class="bx--form-requirement" id={errorId}>{invalidText}</div>
         </template>
      </div>
      <template if:true={hasHelperText}>
         <div class={computedHelperClass}>{helperText}</div>
      </template>
      <div if:false={inline} class="bx--select-input__wrapper">
         <select
            id={id}
            name={name}
            class={computedSelectClass}
            onchange={handleChange}
         >
            <template for:each={options} for:item="option">
               <option
                  key={option.value}
                  value={option.value}
                  disabled={option.disabled}
                  hidden={option.hidden}
                  selected={option.selected}
                  class="bx--select-option"
               >
                  {option.text}
               </option>
            </template>
         </select>
         <w-base-icon
            class-name="bx--select__arrow"
            name="ChevronDown"
         ></w-base-icon>
         <template if:true={invalid}>
            <w-base-icon
               class="bx--select__invalid-icon"
               name="WarningFilled"
               fill=""
            ></w-base-icon>
         </template>
         <template if:true={isValidAndWarn}>
            <w-base-icon
               class="bx--select__invalid-icon bx--select__invalid-icon--warning"
               name="WarningAltFilled"
               fill=""
            ></w-base-icon>
         </template>
      </div>

      <div if:true={isValidAndHelperText} class={computedHelperClass}>
         {helperText}
      </div>

      <div if:true={invalid} class="bx--form-requirement">{invalidText}</div>

      <div if:true={isValidAndWarn} id={errorId} class="bx--form-requirement">
         {warnText}
      </div>
   </div>
</template>
