<template>
   <div class={computedClass}>
      <template if:true={labelText}>
         <label for={id} class={computedLabelClass}>
            <slot name="labelText"> {labelText} </slot>
         </label>
      </template>
      <div class={computedContainerClass}>
         <input
            data-invalid={invalid}
            id={id}
            name={name}
            placeholder={placeholder}
            type={type}
            pattern={pattern}
            disabled={disabled}
            value={compuatedValue}
            class={computedInputClass}
            oninput={handleInput}
            onchange={handleChange}
            onkeydown={handleKeydown}
            onblur={handleBlur}
         />
         <template if:false={hasCalendar}>
            <template if:true={invalid}>
               <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 32 32"
                  fill="currentColor"
                  preserveAspectRatio="xMidYMid meet"
                  class="bx--date-picker__icon bx--date-picker__icon--invalid"
               >
                  <path
                     d="M26,4h-4V2h-2v2h-8V2h-2v2H6C4.9,4,4,4.9,4,6v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V6C28,4.9,27.1,4,26,4z M26,26H6V12h20	V26z M26,10H6V6h4v2h2V6h8v2h2V6h4V10z"
                  ></path>
               </svg>
            </template>
            <template if:true={validandwarn}>
               <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 32 32"
                  fill="currentColor"
                  preserveAspectRatio="xMidYMid meet"
                  class="bx--date-picker__icon bx--date-picker__icon--warn"
               >
                  <path
                     fill="none"
                     d="M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"
                     data-icon-path="inner-path"
                  ></path>
                  <path
                     d="M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"
                  ></path>
                  <path
                     d="M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"
                  ></path>
               </svg>
            </template>
         </template>
         <template if:true={hasCalendar}>
            <svg
               xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 32 32"
               fill="currentColor"
               preserveAspectRatio="xMidYMid meet"
               class="bx--date-picker__icon"
               aria-label={iconDescription}
               onclick={openCalendar}
            >
               <path
                  d="M26,4h-4V2h-2v2h-8V2h-2v2H6C4.9,4,4,4.9,4,6v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V6C28,4.9,27.1,4,26,4z M26,26H6V12h20	V26z M26,10H6V6h4v2h2V6h8v2h2V6h4V10z"
               ></path>
            </svg>
         </template>
      </div>
      <template if:true={invalid}>
         <div class="bx--form-requirement">{invalidText}</div>
      </template>
      <template if:true={validandwarn}>
         <div class="bx--form-requirement">{warnText}</div>
      </template>
      <template if:true={helperText}>
         <div class={computedHelperClass}>{helperText}</div>
      </template>
   </div>
</template>
